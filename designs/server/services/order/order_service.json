[
    {
        "id": "SSD_SERVICE_ID_sd_hU73HCE9PDt8KaAd",
        "type": "tab",
        "createdDate": "2023-04-30T16:32:46.056Z",
        "label": "order_service",
        "disabled": false,
        "info": "",
        "functionSeq": 0,
        "generateNext": true,
        "serviceName": "order_service",
        "relativeParentPath": "order"
    },
    {
        "id": "sd_IpSVNkbTiDlHuR4b",
        "type": "Start",
        "z": "SSD_SERVICE_ID_sd_hU73HCE9PDt8KaAd",
        "viewType": "client-server",
        "nodeType": "start",
        "name": "createOrder",
        "outputs": 1,
        "inputVariables": [],
        "localVariables": [],
        "accept_bh": true,
        "functionName": "createOrder",
        "category": "General",
        "x": 105,
        "y": 80,
        "wires": [
            [
                "sd_DKydWL8w0LPjBsvB"
            ]
        ],
        "__n_excludedFromValidation__": {},
        "generateNext": true,
        "serviceName": "order_service"
    },
    {
        "id": "sd_DKydWL8w0LPjBsvB",
        "type": "Script",
        "z": "SSD_SERVICE_ID_sd_hU73HCE9PDt8KaAd",
        "viewType": "common",
        "nodeType": "flow",
        "name": "",
        "script": "bh.local.collection = 'orders';",
        "functionName": "sd_DKydWL8w0LPjBsvB",
        "category": "Function",
        "x": 245,
        "y": 80,
        "wires": [
            [
                "sd_JsdEMqwtxNcCaDId"
            ]
        ],
        "__n_excludedFromValidation__": {},
        "generateNext": false,
        "serviceName": "order_service",
        "generated": true
    },
    {
        "id": "sd_B0d0DSpjmuevaSbL",
        "type": "Mongodb",
        "z": "SSD_SERVICE_ID_sd_hU73HCE9PDt8KaAd",
        "viewType": "server",
        "nodeType": "flow",
        "name": "",
        "databaseConfig": "sd_qYoT2PgM4f1tomGX",
        "collection": "bh.local.collection",
        "options": "",
        "resultMapping": "bh.local.result",
        "operation": "insertOne",
        "argumentArray": [
            "document"
        ],
        "aggregate": "",
        "operations": "",
        "query": "bh",
        "fieldOrSpec": "",
        "filter": "",
        "key": "",
        "docId": "",
        "indexName": "",
        "replacement": "",
        "update": "",
        "xAxis": "",
        "yAxis": "",
        "indexes": "",
        "docs": "",
        "document": "bh.input.body",
        "newName": "",
        "doc": "",
        "filePath": "",
        "fileName": "",
        "pipeline": "",
        "functionName": "sd_B0d0DSpjmuevaSbL",
        "category": "Storage",
        "x": 465,
        "y": 80,
        "wires": [
            [
                "sd_00YKSZmMcrTD2gfN"
            ]
        ],
        "__ssdTypeInputs__": {
            "collection": {
                "type": "bh.local",
                "value": "collection",
                "constant": false
            },
            "options": {
                "type": "bh",
                "value": "",
                "nullable": "true",
                "constant": false
            },
            "resultMapping": {
                "type": "bh.local",
                "value": "result",
                "constant": false
            },
            "query": {
                "type": "bh",
                "value": "",
                "constant": false
            },
            "document": {
                "type": "bh.input",
                "value": "body",
                "constant": false
            }
        },
        "__n_excludedFromValidation__": {},
        "generateNext": false,
        "serviceName": "order_service",
        "generated": true
    },
    {
        "id": "sd_00YKSZmMcrTD2gfN",
        "type": "Script",
        "z": "SSD_SERVICE_ID_sd_hU73HCE9PDt8KaAd",
        "viewType": "common",
        "nodeType": "flow",
        "name": "",
        "script": "bh.local.response = {\n    statusCode: 200,\n    body: \"order created successfully!\"\n}",
        "functionName": "sd_00YKSZmMcrTD2gfN",
        "category": "Function",
        "x": 620,
        "y": 80,
        "wires": [
            []
        ],
        "__n_excludedFromValidation__": {},
        "generateNext": false,
        "serviceName": "order_service",
        "generated": true
    },
    {
        "id": "sd_mUkecRpT5ovyMta9",
        "type": "Catch",
        "z": "SSD_SERVICE_ID_sd_hU73HCE9PDt8KaAd",
        "viewType": "common",
        "nodeType": "start",
        "name": "",
        "selectedNodes": [
            "sd_hPw3YDcFCVuCLedU"
        ],
        "selectCatchType": "selectednodes",
        "masternodeList": "",
        "ignoreList": "",
        "functionName": "sd_mUkecRpT5ovyMta9",
        "category": "General",
        "x": 190,
        "y": 220,
        "wires": [
            [
                "sd_XgDo6WDxCJiMBYCz"
            ]
        ],
        "__n_excludedFromValidation__": {},
        "generateNext": true,
        "serviceName": "order_service"
    },
    {
        "id": "sd_XgDo6WDxCJiMBYCz",
        "type": "Script",
        "z": "SSD_SERVICE_ID_sd_hU73HCE9PDt8KaAd",
        "viewType": "common",
        "nodeType": "flow",
        "name": "",
        "script": "bh.local.response = bh.error",
        "functionName": "sd_XgDo6WDxCJiMBYCz",
        "category": "Function",
        "x": 330,
        "y": 220,
        "wires": [
            []
        ],
        "__n_excludedFromValidation__": {},
        "generateNext": false,
        "serviceName": "order_service",
        "generated": true
    },
    {
        "id": "sd_JsdEMqwtxNcCaDId",
        "type": "Script",
        "z": "SSD_SERVICE_ID_sd_hU73HCE9PDt8KaAd",
        "viewType": "common",
        "nodeType": "flow",
        "name": "",
        "script": "console.log(bh.input.body,'heyyyyy');\nconst Razorpay = require('razorpay');\nvar instance = new Razorpay({ key_id: \"rzp_test_JK2eMcWr8sfXEU\", key_secret: \"LwCYMNILRX63OEKmwIzORX0f\" })\n\ninstance.paymentLink.create({\n  amount: 500,\n  currency: \"INR\",\n  accept_partial: true,\n  first_min_partial_amount: 100,\n  description: \"For XYZ purpose\",\n  customer: {\n    contact: `+91${bh.input.body.userPhoneNumber}`\n  },\n  notify: {\n    sms: true,\n    email: false,\n    whatsapp: true\n  },\n  reminder_enable: true,\n  notes: {\n    policy_name: \"Jeevan Bima\"\n  },\n  callback_url: \"https://google.com\",\n  callback_method: \"get\"\n}).then((response) => {\n  console.log(response);\n})",
        "functionName": "sd_JsdEMqwtxNcCaDId",
        "category": "Function",
        "x": 365,
        "y": 80,
        "wires": [
            [
                "sd_B0d0DSpjmuevaSbL"
            ]
        ],
        "__n_excludedFromValidation__": {},
        "generateNext": false,
        "serviceName": "order_service",
        "generated": true
    }
]
